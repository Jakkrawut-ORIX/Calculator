<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ô‡∏•‡∏µ‡∏™‡∏ã‡∏¥‡πà‡∏á‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;500;600&display=swap" rel="stylesheet">

<style>
:root {
  --orix-blue: #003366;
  --orix-red: #E30613;
  --light-bg: linear-gradient(160deg, #003366, #004A99);
  --light-surface: #FFFFFF;
  --light-text: #1F2D3D;
  --dark-bg: linear-gradient(160deg, #001933, #002A4D);
  --dark-surface: #0B2A52;
  --dark-text: #E6ECF3;
  --transition: 0.4s ease;
}
body {
  font-family: 'Kanit', sans-serif;
  margin: 0;
  padding: 20px;
  display: flex;
  justify-content: center;
  background: var(--light-bg);
  color: var(--light-text);
  transition: background var(--transition), color var(--transition);
}
body.dark {
  background: var(--dark-bg);
  color: var(--dark-text);
}
.container {
  width: 100%;
  max-width: 480px;
  border-radius: 14px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
  background: var(--light-surface);
  transition: background var(--transition), color var(--transition);
}
body.dark .container {
  background: var(--dark-surface);
}
.header-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 3px solid var(--orix-blue);
  padding: 10px 16px;
}
.logo-container img {
  max-width: 60px;
}
.company-info {
  text-align: right;
  font-size: 0.75em;
}
.company-name {
  font-weight: 600;
  color: var(--orix-blue);
}
.header-title {
  text-align: center;
  font-weight: 600;
  font-size: 1.2em;
  color: var(--orix-blue);
  margin: 10px 0;
}
.theme-toggle {
  position: absolute;
  top: 12px;
  right: 20px;
  cursor: pointer;
  font-size: 1.3em;
  transition: transform 0.3s ease;
}
.theme-toggle:hover { transform: scale(1.1); }
.input-section {
  border-radius: 10px;
  padding: 10px;
  margin: 10px 16px;
  background: #F1F4F8;
}
body.dark .input-section { background: #163861; }
h2 {
  font-size: 1em;
  margin-bottom: 8px;
  border-left: 4px solid var(--orix-red);
  padding-left: 8px;
}
.form-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 6px;
}
.label-col { width: 45%; }
.value-col { width: 55%; }
input, select {
  width: 100%;
  padding: 6px 8px;
  border-radius: 6px;
  border: 1px solid #ccc;
  font-family: 'Kanit';
  font-size: 0.9em;
  text-align: right;
}
input[readonly] {
  background: #E9EDF3;
  font-weight: 600;
}
.button-group {
  margin: 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}
button {
  border: none;
  border-radius: 6px;
  padding: 10px;
  font-family: 'Kanit';
  color: #fff;
  font-weight: 500;
  cursor: pointer;
  transition: 0.3s;
}
#calculateBtn {
  background: linear-gradient(135deg, #004A99, #003366);
}
#calculateBtn:hover {
  background: linear-gradient(135deg, #003366, #00264D);
}
#targetLeaseBtn {
  background: linear-gradient(135deg, #E30613, #B0050D);
}
#targetLeaseBtn:hover {
  background: linear-gradient(135deg, #C50C1B, #8B0000);
}
@media (max-width: 480px) {
  .form-row { flex-direction: column; align-items: flex-start; }
  .label-col, .value-col { width: 100%; }
}
</style>
</head>

<body class="light">
  <div class="theme-toggle" id="themeToggle">üåô</div>

  <div class="container">
    <div class="header-content">
      <div class="logo-container">
        <img src="orix_logo.png" alt="ORIX Logo">
      </div>
      <div class="company-info">
        <div class="company-name">‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡πÑ‡∏ó‡∏¢‡πÇ‡∏≠‡∏£‡∏¥‡∏Å‡∏ã‡πå‡∏•‡∏µ‡∏™‡∏ã‡∏¥‡πà‡∏á ‡∏à‡∏≥‡∏Å‡∏±‡∏î</div>
        <div>555 ‡∏£‡∏™‡∏≤ ‡∏ß‡∏±‡∏ô (‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ ‡∏ö‡∏µ) ‡∏ä‡∏±‡πâ‡∏ô 18-19<br>‡∏ñ.‡∏û‡∏´‡∏•‡πÇ‡∏¢‡∏ò‡∏¥‡∏ô ‡∏à‡∏ï‡∏∏‡∏à‡∏±‡∏Å‡∏£ ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 10900<br>‡πÇ‡∏ó‡∏£: 66(0) 2792-4500</div>
      </div>
    </div>

    <div class="header-title">‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ô‡∏•‡∏µ‡∏™‡∏ã‡∏¥‡πà‡∏á‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô</div>

    <!-- üîπ ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì -->
    <div class="input-section">
      <h2>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏ñ‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Ñ‡∏≤</h2>
      <div class="form-row">
        <div class="label-col">‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ</div>
        <div class="value-col"><input type="text" id="carInfo" placeholder="Toyota Yaris 1.2"></div>
      </div>
      <div class="form-row">
        <div class="label-col">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ñ (‡∏ö‡∏≤‡∏ó)</div>
        <div class="value-col"><input type="number" id="carPrice" value="600000"></div>
      </div>
      <div class="form-row">
        <div class="label-col">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢ (%) ‡∏ï‡πà‡∏≠‡∏õ‡∏µ</div>
        <div class="value-col"><input type="number" id="interestRate" value="5"></div>
      </div>
    </div>

    <div class="input-section">
      <h2>‡πÄ‡∏á‡∏¥‡∏ô‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤</h2>
      <div class="form-row">
        <div class="label-col">‡πÄ‡∏á‡∏¥‡∏ô‡∏î‡∏≤‡∏ß‡∏ô‡πå (%)</div>
        <div class="value-col"><input type="number" id="downPercent" value="10"></div>
      </div>
      <div class="form-row">
        <div class="label-col">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ (‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)</div>
        <div class="value-col">
          <select id="term">
            <option value="36">36</option>
            <option value="48" selected>48</option>
            <option value="60">60</option>
          </select>
        </div>
      </div>
    </div>

    <div class="input-section">
      <h2>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</h2>
      <div class="form-row">
        <div class="label-col">‡πÄ‡∏á‡∏¥‡∏ô‡∏î‡∏≤‡∏ß‡∏ô‡πå (‡∏ö‡∏≤‡∏ó)</div>
        <div class="value-col"><input type="text" id="downPayment" readonly></div>
      </div>
      <div class="form-row">
        <div class="label-col">‡∏¢‡∏≠‡∏î‡∏à‡∏±‡∏î (‡∏ö‡∏≤‡∏ó)</div>
        <div class="value-col"><input type="text" id="financeAmount" readonly></div>
      </div>
      <div class="form-row">
        <div class="label-col">‡∏Ñ‡πà‡∏≤‡∏á‡∏ß‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (‡∏ö‡∏≤‡∏ó)</div>
        <div class="value-col"><input type="text" id="monthlyPayment" readonly></div>
      </div>
    </div>

    <div class="button-group">
      <button id="calculateBtn">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</button>
      <button id="targetLeaseBtn">‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏Ñ‡πà‡∏≤‡∏á‡∏ß‡∏î 36,000</button>
    </div>
  </div>

<script>
/* ===== ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì ===== */
function calculate() {
  const price = parseFloat(document.getElementById('carPrice').value) || 0;
  const rate = parseFloat(document.getElementById('interestRate').value) / 100 / 12;
  const term = parseInt(document.getElementById('term').value);
  const downPercent = parseFloat(document.getElementById('downPercent').value) || 0;
  const down = price * downPercent / 100;
  const finance = price - down;

  const payment = rate === 0
    ? finance / term
    : (finance * rate) / (1 - Math.pow(1 + rate, -term));

  document.getElementById('downPayment').value = down.toLocaleString(undefined,{maximumFractionDigits:2});
  document.getElementById('financeAmount').value = finance.toLocaleString(undefined,{maximumFractionDigits:2});
  document.getElementById('monthlyPayment').value = payment.toLocaleString(undefined,{maximumFractionDigits:2});
}

/* ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏Ñ‡πà‡∏≤‡∏á‡∏ß‡∏î 36,000 */
function targetLease() {
  const target = 36000;
  const price = parseFloat(document.getElementById('carPrice').value) || 0;
  const rate = parseFloat(document.getElementById('interestRate').value) / 100 / 12;
  const term = parseInt(document.getElementById('term').value);

  // ‡∏´‡∏≤‡πÄ‡∏á‡∏¥‡∏ô‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡πÉ‡∏´‡πâ‡∏Ñ‡πà‡∏≤‡∏á‡∏ß‡∏î‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á target
  let downPercent = 0;
  for (let i = 0; i <= 100; i += 0.1) {
    const down = price * i / 100;
    const finance = price - down;
    const payment = rate === 0 ? finance/term : (finance * rate)/(1 - Math.pow(1 + rate, -term));
    if (payment <= target) { downPercent = i; break; }
  }
  document.getElementById('downPercent').value = downPercent.toFixed(1);
  calculate();
}

/* Event */
document.getElementById('calculateBtn').addEventListener('click', calculate);
document.getElementById('targetLeaseBtn').addEventListener('click', targetLease);
window.addEventListener('load', calculate);

/* ===== Theme Toggle ===== */
const themeToggle = document.getElementById('themeToggle');
function setTheme(mode) {
  document.body.classList.toggle('dark', mode === 'dark');
  document.body.classList.toggle('light', mode !== 'dark');
  themeToggle.textContent = mode === 'dark' ? 'üåû' : 'üåô';
  localStorage.setItem('theme', mode);
}
themeToggle.addEventListener('click', () => {
  const current = document.body.classList.contains('dark') ? 'dark' : 'light';
  setTheme(current === 'dark' ? 'light' : 'dark');
});
window.addEventListener('load', () => {
  const saved = localStorage.getItem('theme') || 'light';
  setTheme(saved);
});
</script>
</body>
</html>
